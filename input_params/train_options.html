<!doctypehtml><html data-content_root=../ lang=en><head><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><meta content=width=device-width,initial-scale=1 name=viewport><title>Train Options — DeePTB  documentation</title><script data-cfasync=false>document.documentElement.dataset.mode=localStorage.getItem(`mode`)||``;document.documentElement.dataset.theme=localStorage.getItem(`theme`)||``</script><link href=../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b rel=stylesheet><link href=../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b rel=stylesheet><link href=../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b rel=stylesheet><link href=../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b rel=stylesheet><link as=font crossorigin href=../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2 rel=preload type=font/woff2><link as=font crossorigin href=../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2 rel=preload type=font/woff2><link as=font crossorigin href=../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2 rel=preload type=font/woff2><link href=../_static/pygments.css?v=8f2a1f02 rel=stylesheet><link href=../_static/styles/sphinx-book-theme.css?v=eba8b062 rel=stylesheet><link href=../_static/banner.css?v=f1520836 rel=stylesheet><link as=script href=../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b rel=preload><link as=script href=../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b rel=preload><script src=../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b></script><script src=../_static/documentation_options.js?v=9eb32ce0></script><script src=../_static/doctools.js?v=9bcbadda></script><script src=../_static/sphinx_highlight.js?v=dc90522c></script><script src=../_static/scripts/sphinx-book-theme.js?v=887ef09a></script><script src=../_static/banner.js?v=a6a668d4></script><script>DOCUMENTATION_OPTIONS.pagename=`input_params/train_options`</script><link href=../genindex.html rel=index title=Index><link href=../search.html rel=search title=Search><link title="Model Options"href=model_options.html rel=next><link title="Common Options"href=common_options.html rel=prev><meta content=width=device-width,initial-scale=1 name=viewport><meta content=en name=docsearch:language><link href=https://unpkg.com/ rel=preconnect><link href=https://unpkg.com/@njzjz/icons@0.0.5/logos/deepmodeling.svg rel=icon type=image/png><div class="container-fluid header-holder tutorials-header"id=header-holder><div class=container><div class=header-container><a aria-label=deepmodeling class=header-logo href=https://deepmodeling.com></a><div class=main-menu><ul><li><a href=https://deepmodeling.com>Home</a></li><li><a href=https://blogs.deepmodeling.com>Blog</a></li><li><a href=https://tutorials.deepmodeling.com>Tutorials</a></li><li class="active docs-active"><div class=resources-dropdown data-toggle=resources-dropdown id=resourcesDropdownButton><a class="resource-option with-down-orange-arrow"href=https://docs.deepmodeling.com/> Docs </a><div class=resources-dropdown-menu><a class="doc-dropdown-option nav-dropdown-item"href=https://docs.deepmodeling.com/projects/deepmd/> <span class=dropdown-title>DeePMD-kit</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item"href=https://docs.deepmodeling.com/projects/dpgen/> <span class=dropdown-title>DP-GEN</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item"href=https://docs.deepmodeling.com/projects/dpdata/> <span class=dropdown-title>dpdata</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item"href=https://docs.deepmodeling.com/projects/dpdispatcher/> <span class=dropdown-title>DPDispatcher</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item"href=https://abacus.deepmodeling.com/> <span class=dropdown-title>ABACUS</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item"href=https://deepflame.deepmodeling.com/> <span class=dropdown-title>DeepFlame</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item"href=https://docs.deepmodeling.com/projects/dpti/> <span class=dropdown-title>DPTI</span> <p></p> </a></div></div></li><li><a href=https://blogs.deepmodeling.com/papers/>Publications</a></li><li><a href=https://github.com/deepmodeling>GitHub</a></li></ul></div><a class=main-menu-open-button data-behavior=open-mobile-menu href=#></a></div></div></div><div class=mobile-main-menu><div class=container-fluid><div class=container><div class=mobile-main-menu-header-container><a aria-label=deepmodeling class=header-logo href=https://deepmodeling.com></a><a class=main-menu-close-button data-behavior=close-mobile-menu href=#></a></div></div></div><div class=mobile-main-menu-links-container><div class=main-menu><ul><li><a href=https://deepmodeling.com>Home</a></li><li><a href=https://blogs.deepmodeling.com>Blog</a></li><li><a href=https://tutorials.deepmodeling.com>Tutorials</a></li><li><a href=https://docs.deepmodeling.com/>Docs</a></li><li><a href=https://blogs.deepmodeling.com/papers/>Publications</a></li><li><a href=https://github.com/deepmodeling>GitHub</a></li></ul></div></div></div></head><body data-bs-root-margin="0px 0px -60%"data-bs-spy=scroll data-bs-target=.bd-toc-nav data-default-mode data-offset=180><div class="skip-link d-print-none"id=pst-skip-link><a href=#main-content>Skip to main content</a></div><div id=pst-scroll-pixel-helper></div><button class="btn rounded-pill"id=pst-back-to-top type=button><i class="fa-solid fa-arrow-up"></i>Back to top</button><input class=sidebar-toggle id=pst-primary-sidebar-checkbox type=checkbox><label class="overlay overlay-primary"for=pst-primary-sidebar-checkbox></label><input class=sidebar-toggle id=pst-secondary-sidebar-checkbox type=checkbox><label class="overlay overlay-secondary"for=pst-secondary-sidebar-checkbox></label><div class=search-button__wrapper><div class=search-button__overlay></div><div class=search-button__search-container><form class="bd-search d-flex align-items-center"action=../search.html><i class="fa-solid fa-magnifying-glass"></i><input aria-label=Search... autocapitalize=off autocomplete=off autocorrect=off class=form-control id=search-input name=q placeholder=Search... spellcheck=false type=search><span class=search-button__kbd-shortcut><kbd class=kbd-shortcut__modifier>Ctrl</kbd>+<kbd>K</kbd></span></form></div></div><div class="pst-async-banner-revealer d-none"><aside aria-label="Version warning"class="d-none d-print-none"id=bd-header-version-warning></aside></div><header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none"></header><div class=bd-container><div class="bd-container__inner bd-page-width"><div class="bd-sidebar-primary bd-sidebar"><div class="sidebar-header-items sidebar-primary__section"></div><div class="sidebar-primary-items__start sidebar-primary__section"><div class=sidebar-primary-item><a class="navbar-brand logo"href=../index.html> <img alt="DeePTB  documentation - Home"class="logo__image only-light"src=../_static/deeptb-logo.svg> <script>document.write(`<img src="../_static/deeptb-logo.svg" class="logo__image only-dark" alt="DeePTB  documentation - Home"/>`)</script> </a></div><div class=sidebar-primary-item><script>document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `)</script></div><div class=sidebar-primary-item><nav class="bd-links bd-docs-nav"aria-label=Main><div class="bd-toc-item navbar-nav active"><p aria-level=2 class=caption role=heading><span class=caption-text>Quick Start</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal"href=../quick_start/easy_install.html>Installation Guide</a></li><li class=toctree-l1><a class="reference internal"href=../quick_start/input.html>Brief Intro. to Inputs and Commands</a></li><li class="toctree-l1 has-children"><a class="reference internal"href=../quick_start/hands_on/index.html>A quick Example</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal"href=../quick_start/hands_on/sktb_hands_on.html>DeePTB-SK: h-BN</a></li><li class=toctree-l2><a class="reference internal"href=../quick_start/hands_on/e3tb_hands_on.html>DeePTB-E3: Bulk Silicon</a></li></ul></details></li><li class=toctree-l1><a class="reference internal"href=../quick_start/basic_api.html>Basic API</a></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>INPUT TAG</span></p><ul class="current nav bd-sidenav"><li class="toctree-l1 current active has-children"><a class="reference internal"href=index.html>Full Input Parameters</a><details open><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul class=current><li class=toctree-l2><a class="reference internal"href=common_options.html>Common Options</a></li><li class="toctree-l2 current active"><a class="current reference internal"href=#>Train Options</a></li><li class=toctree-l2><a class="reference internal"href=model_options.html>Model Options</a></li><li class=toctree-l2><a class="reference internal"href=data_options.html>Data Options</a></li><li class=toctree-l2><a class="reference internal"href=run_options.html>Run Options</a></li><li class=toctree-l2><a class="reference internal"href=set_info.html>Set Info</a></li></ul></details></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Advanced</span></p><ul class="nav bd-sidenav"><li class="toctree-l1 has-children"><a class="reference internal"href=../advanced/sktb/index.html>DeePTB-SK Advanced</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal"href=../advanced/sktb/dftb.html>DFTB SK Files to DeePTB Model</a></li><li class=toctree-l2><a class="reference internal"href=../advanced/sktb/dptb_env.html>Environment-dependent TB</a></li><li class=toctree-l2><a class="reference internal"href=../advanced/sktb/nrl_tb.html>NRL-TB paramererization</a></li><li class=toctree-l2><a class="reference internal"href=../advanced/sktb/soc.html>Spin-orbit coupling</a></li></ul></details></li><li class="toctree-l1 has-children"><a class="reference internal"href=../advanced/e3tb/index.html>DeePTB-E3 Advanced</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal"href=../advanced/e3tb/advanced_input.html>More on Input Parameters</a></li><li class=toctree-l2><a class="reference internal"href=../advanced/e3tb/data_preparation.html>Data Preparation</a></li><li class=toctree-l2><a class="reference internal"href=../advanced/e3tb/loss_analysis.html>Loss Analysis</a></li></ul></details></li><li class="toctree-l1 has-children"><a class="reference internal"href=../advanced/elec_properties/index.html>Electronic Properties and Outputs</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal"href=../advanced/elec_properties/band.html>Band structure</a></li></ul></details></li><li class="toctree-l1 has-children"><a class="reference internal"href=../advanced/interface/index.html>Interfaces to Other Softwares</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal"href=../advanced/interface/TBPLAS.html>TBPLAS</a></li><li class=toctree-l2><a class="reference internal"href=../advanced/interface/TBtrans.html>TBtrans</a></li></ul></details></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Citing DeePTB</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal"href=../CITATIONS.html>How to Cite</a></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Developing Team</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal"href=../DevelopingTeam.html>Development Team</a></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Community</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal"href=../community/contribution_guide.html>DeePTB Contribution Guide</a></li><li class=toctree-l1><a class="reference internal"href=../CONTRIBUTING.html>Contributing to DeePTB</a></li></ul></div></nav></div></div><div class="sidebar-primary-items__end sidebar-primary__section"></div><div id=rtd-footer-container></div></div><main class=bd-main id=main-content role=main><div class=sbt-scroll-pixel-helper></div><div class=bd-content><div class=bd-article-container><div class="bd-header-article d-print-none"><div class="header-article-items header-article__inner"><div class=header-article-items__start><div class=header-article-item><button class="sidebar-toggle primary-toggle btn btn-sm"title="Toggle primary sidebar"data-bs-placement=bottom data-bs-toggle=tooltip><span class="fa-solid fa-bars"></span></button></div></div><div class=header-article-items__end><div class=header-article-item><div class=article-header-buttons><div class="dropdown dropdown-download-buttons"><button aria-label="Download this page"class="btn dropdown-toggle"aria-expanded=false data-bs-toggle=dropdown type=button><i class="fas fa-download"></i></button><ul class=dropdown-menu><li><a class="btn btn-sm btn-download-source-button dropdown-item"title="Download source file"data-bs-placement=left data-bs-toggle=tooltip href=../_sources/input_params/train_options.rst target=_blank> <span class=btn__icon-container> <i class="fas fa-file"></i> </span> <span class=btn__text-container>.rst</span> </a></li><li><button class="btn btn-sm btn-download-pdf-button dropdown-item"title="Print to PDF"data-bs-placement=left data-bs-toggle=tooltip onclick=window.print()><span class=btn__icon-container> <i class="fas fa-file-pdf"></i> </span> <span class=btn__text-container>.pdf</span></button></li></ul></div><button class="btn btn-sm btn-fullscreen-button"title="Fullscreen mode"data-bs-placement=bottom data-bs-toggle=tooltip onclick=toggleFullScreen()><span class=btn__icon-container> <i class="fas fa-expand"></i> </span></button><script>document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`)</script><script>document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`)</script></div></div></div></div></div><div class=onlyprint id=jb-print-docs-body><h1>Train Options</h1><div id=print-main-content><div id=jb-print-toc></div></div></div><div id=searchbox></div><article class=bd-article><section id=train-options><h1>Train Options<a title="Link to this heading"class=headerlink href=#train-options>#</a></h1><dl id=id1><dt>train_options:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code>, optional</div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options</span></code></div></div> <p>Options that defines the training behaviour of DeePTB.</p> <dl id=train-options-num-epoch><dt>num_epoch:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/num_epoch</span></code></div></div> <p>Total number of training epochs. It is worth noted, if the model is reloaded with <cite>-r</cite> or <cite>–restart</cite> option, epoch which have been trained will counted from the time that the checkpoint is saved.</p></dd></dl> <dl id=train-options-batch-size><dt>batch_size:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>1</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/batch_size</span></code></div></div> <p>The batch size used in training, Default: 1</p></dd></dl> <dl id=train-options-ref-batch-size><dt>ref_batch_size:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>1</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/ref_batch_size</span></code></div></div> <p>The batch size used in reference data, Default: 1</p></dd></dl> <dl id=train-options-val-batch-size><dt>val_batch_size:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>1</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/val_batch_size</span></code></div></div> <p>The batch size used in validation data, Default: 1</p></dd></dl> <dl id=train-options-optimizer><dt>optimizer:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>{}</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer</span></code></div></div> <blockquote><div><p>The optimizer setting for selecting the gradient optimizer of model training. Optimizer supported includes <cite>Adam</cite>, <cite>SGD</cite> and <cite>LBFGS</cite></p><p>For more information about these optmization algorithm, we refer to:</p><ul class=simple><li><p><cite>Adam</cite>: [Adam: A Method for Stochastic Optimization.](<a class="reference external"href=https://arxiv.org/abs/1412.6980>https://arxiv.org/abs/1412.6980</a>)</p></li><li><p><cite>SGD</cite>: [Stochastic Gradient Descent.](<a class="reference external"href=https://pytorch.org/docs/stable/generated/torch.optim.SGD.html>https://pytorch.org/docs/stable/generated/torch.optim.SGD.html</a>)</p></li><li><p><cite>LBFGS</cite>: [On the limited memory BFGS method for large scale optimization.](<a class="reference external"href=http://users.iems.northwestern.edu/~nocedal/PDFfiles/limited-memory.pdf>http://users.iems.northwestern.edu/~nocedal/PDFfiles/limited-memory.pdf</a>)</p></li></ul></div></blockquote> <p>Depending on the value of <em>type</em>, different sub args are accepted.</p> <dl id=train-options-optimizer-type><dt>type:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code> (flag key), default: <code class="docutils literal notranslate"><span class=pre>Adam</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer/type</span></code></div><div class=line>possible choices: <a class="reference internal"href=#train-options-optimizer-adam><code class="docutils literal notranslate"><span class=pre>Adam</span></code></a>, <a class="reference internal"href=#train-options-optimizer-sgd><code class="docutils literal notranslate"><span class=pre>SGD</span></code></a></div></div> <p>select type of optimizer, support type includes: <cite>Adam</cite>, <cite>SGD</cite> and <cite>LBFGS</cite>. Default: <cite>Adam</cite></p></dd></dl> <p id=train-options-optimizer-adam>When <a class="reference internal"href=#train-options-optimizer-type><em>type</em></a> is set to <code class="docutils literal notranslate"><span class=pre>Adam</span></code>:</p> <dl id=train-options-optimizer-adam-lr><dt>lr:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.001</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[Adam]/lr</span></code></div></div> <p>learning rate. Default: 1e-3</p></dd></dl> <dl id=train-options-optimizer-adam-betas><dt>betas:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>list</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>[0.9,</span> <span class=pre>0.999]</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[Adam]/betas</span></code></div></div> <p>coefficients used for computing running averages of gradient and its square Default: (0.9, 0.999)</p></dd></dl> <dl id=train-options-optimizer-adam-eps><dt>eps:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>1e-08</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[Adam]/eps</span></code></div></div> <p>term added to the denominator to improve numerical stability, Default: 1e-8</p></dd></dl> <dl id=train-options-optimizer-adam-weight-decay><dt>weight_decay:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[Adam]/weight_decay</span></code></div></div> <p>weight decay (L2 penalty), Default: 0</p></dd></dl> <dl id=train-options-optimizer-adam-amsgrad><dt>amsgrad:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[Adam]/amsgrad</span></code></div></div> <p>whether to use the AMSGrad variant of this algorithm from the paper On the [Convergence of Adam and Beyond](<a class="reference external"href=https://openreview.net/forum?id=ryQu7f-RZ>https://openreview.net/forum?id=ryQu7f-RZ</a>) ,Default: False</p></dd></dl> <p id=train-options-optimizer-sgd>When <a class="reference internal"href=#train-options-optimizer-type><em>type</em></a> is set to <code class="docutils literal notranslate"><span class=pre>SGD</span></code>:</p> <dl id=train-options-optimizer-sgd-lr><dt>lr:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.001</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[SGD]/lr</span></code></div></div> <p>learning rate. Default: 1e-3</p></dd></dl> <dl id=train-options-optimizer-sgd-momentum><dt>momentum:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.0</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[SGD]/momentum</span></code></div></div> <p>momentum factor Default: 0</p></dd></dl> <dl id=train-options-optimizer-sgd-weight-decay><dt>weight_decay:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.0</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[SGD]/weight_decay</span></code></div></div> <p>weight decay (L2 penalty), Default: 0</p></dd></dl> <dl id=train-options-optimizer-sgd-dampening><dt>dampening:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.0</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[SGD]/dampening</span></code></div></div> <p>dampening for momentum, Default: 0</p></dd></dl> <dl id=train-options-optimizer-sgd-nesterov><dt>nesterov:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/optimizer[SGD]/nesterov</span></code></div></div> <p>enables Nesterov momentum, Default: False</p></dd></dl></dd></dl> <dl id=train-options-lr-scheduler><dt>lr_scheduler:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>{}</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler</span></code></div></div> <p>The learning rate scheduler tools settings, the lr scheduler is used to scales down the learning rate during the training process. Proper setting can make the training more stable and efficient. The supported lr schedular includes: <cite>Exponential Decaying (exp)</cite>, <cite>Linear multiplication (linear)</cite></p> <p>Depending on the value of <em>type</em>, different sub args are accepted.</p> <dl id=train-options-lr-scheduler-type><dt>type:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code> (flag key), default: <code class="docutils literal notranslate"><span class=pre>exp</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler/type</span></code></div><div class=line>possible choices: <a class="reference internal"href=#train-options-lr-scheduler-exp><code class="docutils literal notranslate"><span class=pre>exp</span></code></a>, <a class="reference internal"href=#train-options-lr-scheduler-linear><code class="docutils literal notranslate"><span class=pre>linear</span></code></a>, <a class="reference internal"href=#train-options-lr-scheduler-rop><code class="docutils literal notranslate"><span class=pre>rop</span></code></a></div></div> <p>select type of lr_scheduler, support type includes <cite>exp</cite>, <cite>linear</cite></p></dd></dl> <p id=train-options-lr-scheduler-exp>When <a class="reference internal"href=#train-options-lr-scheduler-type><em>type</em></a> is set to <code class="docutils literal notranslate"><span class=pre>exp</span></code>:</p> <dl id=train-options-lr-scheduler-exp-gamma><dt>gamma:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.999</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[exp]/gamma</span></code></div></div> <p>Multiplicative factor of learning rate decay.</p></dd></dl> <p id=train-options-lr-scheduler-linear>When <a class="reference internal"href=#train-options-lr-scheduler-type><em>type</em></a> is set to <code class="docutils literal notranslate"><span class=pre>linear</span></code>:</p> <dl id=train-options-lr-scheduler-linear-start-factor><dt>start_factor:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.3333333</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[linear]/start_factor</span></code></div></div> <p>The number we multiply learning rate in the first epoch. The multiplication factor changes towards end_factor in the following epochs. Default: 1./3.</p></dd></dl> <dl id=train-options-lr-scheduler-linear-end-factor><dt>end_factor:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.3333333</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[linear]/end_factor</span></code></div></div> <p>The number we multiply learning rate in the first epoch. The multiplication factor changes towards end_factor in the following epochs. Default: 1./3.</p></dd></dl> <dl id=train-options-lr-scheduler-linear-total-iters><dt>total_iters:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>5</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[linear]/total_iters</span></code></div></div> <p>The number of iterations that multiplicative factor reaches to 1. Default: 5.</p></dd></dl> <p id=train-options-lr-scheduler-rop>When <a class="reference internal"href=#train-options-lr-scheduler-type><em>type</em></a> is set to <code class="docutils literal notranslate"><span class=pre>rop</span></code>:</p> <p>rop: reduce on plateau</p> <dl id=train-options-lr-scheduler-rop-mode><dt>mode:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>min</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/mode</span></code></div></div> <p>One of min, max. In min mode, lr will be reduced when the quantity monitored has stopped decreasing; in max mode it will be reduced when the quantity monitored has stopped increasing. Default: ‘min’.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-factor><dt>factor:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.1</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/factor</span></code></div></div> <p>Factor by which the learning rate will be reduced. new_lr = lr * factor. Default: 0.1.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-patience><dt>patience:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>10</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/patience</span></code></div></div> <p>Number of epochs with no improvement after which learning rate will be reduced. For example, if patience = 2, then we will ignore the first 2 epochs with no improvement, and will only decrease the LR after the 3rd epoch if the loss still hasn’t improved then. Default: 10.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-threshold><dt>threshold:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.0001</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/threshold</span></code></div></div> <p>Threshold for measuring the new optimum, to only focus on significant changes. Default: 1e-4.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-threshold-mode><dt>threshold_mode:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>rel</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/threshold_mode</span></code></div></div> <p>One of rel, abs. In rel mode, dynamic_threshold = best * ( 1 + threshold ) in ‘max’ mode or best * ( 1 - threshold ) in min mode. In abs mode, dynamic_threshold = best + threshold in max mode or best - threshold in min mode. Default: ‘rel’.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-cooldown><dt>cooldown:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/cooldown</span></code></div></div> <p>Number of epochs to wait before resuming normal operation after lr has been reduced. Default: 0.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-min-lr><dt>min_lr:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>list</span></code> | <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/min_lr</span></code></div></div> <p>A scalar or a list of scalars. A lower bound on the learning rate of all param groups or each group respectively. Default: 0.</p></dd></dl> <dl id=train-options-lr-scheduler-rop-eps><dt>eps:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>1e-08</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/lr_scheduler[rop]/eps</span></code></div></div> <p>Minimal decay applied to lr. If the difference between new and old lr is smaller than eps, the update is ignored. Default: 1e-8.</p></dd></dl></dd></dl> <dl id=train-options-save-freq><dt>save_freq:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>10</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/save_freq</span></code></div></div> <p>Frequency, or every how many iteration to saved the current model into checkpoints, The name of checkpoint is formulated as <cite>latest|best_dptb|nnsk_b&LTbond_cutoff>_c&LTsk_cutoff>_w&LTsk_decay_w></cite>. Default: <cite>10</cite></p></dd></dl> <dl id=train-options-validation-freq><dt>validation_freq:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>10</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/validation_freq</span></code></div></div> <p>Frequency or every how many iteration to do model validation on validation datasets. Default: <cite>10</cite></p></dd></dl> <dl id=train-options-display-freq><dt>display_freq:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>1</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/display_freq</span></code></div></div> <p>Frequency, or every how many iteration to display the training log to screem. Default: <cite>1</cite></p></dd></dl> <dl id=train-options-max-ckpt><dt>max_ckpt:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>4</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/max_ckpt</span></code></div></div> <p>The maximum number of saved checkpoints, Default: 4</p></dd></dl> <dl id=train-options-loss-options><dt>loss_options:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options</span></code></div></div> <dl id=train-options-loss-options-train><dt>train:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train</span></code></div></div> <p>Loss options for training.</p> <p>Depending on the value of <em>method</em>, different sub args are accepted.</p> <dl id=train-options-loss-options-train-method><dt>method:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code> (flag key)</div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train/method</span></code></div><div class=line>possible choices: <a class="reference internal"href=#train-options-loss-options-train-eigvals><code class="docutils literal notranslate"><span class=pre>eigvals</span></code></a>, <a class="reference internal"href=#train-options-loss-options-train-skints><code class="docutils literal notranslate"><span class=pre>skints</span></code></a>, <a class="reference internal"href=#train-options-loss-options-train-hamil-abs><code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code></a>, <a class="reference internal"href=#train-options-loss-options-train-hamil-blas><code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code></a></div></div> <p>The loss function type, defined by a string like <cite>&LTfitting target>_&LTloss type></cite>, Default: <cite>eigs_l2dsf</cite>. supported loss functions includes:</p> <blockquote><div><ul class=simple><li><p><cite>eigvals</cite>: The mse loss predicted and labeled eigenvalues and Delta eigenvalues between different k.</p></li><li><p><cite>hamil</cite>:</p></li><li><p><cite>hamil_abs</cite>:</p></li><li><p><cite>hamil_blas</cite>:</p></li></ul></div></blockquote></dd></dl> <p id=train-options-loss-options-train-eigvals>When <a class="reference internal"href=#train-options-loss-options-train-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>eigvals</span></code>:</p> <dl id=train-options-loss-options-train-eigvals-diff-on><dt>diff_on:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[eigvals]/diff_on</span></code></div></div> <p>Whether to use random differences in loss function. Default: False</p></dd></dl> <dl id=train-options-loss-options-train-eigvals-eout-weight><dt>eout_weight:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.01</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[eigvals]/eout_weight</span></code></div></div> <p>The weight of eigenvalue out of range. Default: 0.01</p></dd></dl> <dl id=train-options-loss-options-train-eigvals-diff-weight><dt>diff_weight:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.01</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[eigvals]/diff_weight</span></code></div></div> <p>The weight of eigenvalue difference. Default: 0.01</p></dd></dl> <dl id=train-options-loss-options-train-eigvals-diff-valence><dt>diff_valence:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code> | <code class="docutils literal notranslate"><span class=pre>NoneType</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>None</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[eigvals]/diff_valence</span></code></div></div> <p>set the difference of the number of valence electrons in DFT and TB. eg {‘A’:6,’B’:7}, Default: None, which means no difference</p></dd></dl> <dl id=train-options-loss-options-train-eigvals-spin-deg><dt>spin_deg:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>2</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[eigvals]/spin_deg</span></code></div></div> <p>The spin degeneracy of band structure. Default: 2</p></dd></dl> <p id=train-options-loss-options-train-skints>When <a class="reference internal"href=#train-options-loss-options-train-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>skints</span></code>:</p> <dl id=train-options-loss-options-train-skints-skdata><dt>skdata:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[skints]/skdata</span></code></div></div> <p>The path to the skfile or sk database.</p></dd></dl> <p id=train-options-loss-options-train-hamil-abs>When <a class="reference internal"href=#train-options-loss-options-train-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code>:</p> <dl id=train-options-loss-options-train-hamil-abs-onsite-shift><dt>onsite_shift:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[hamil_abs]/onsite_shift</span></code></div></div> <p>Whether to use onsite shift in loss function. Default: False</p></dd></dl> <p id=train-options-loss-options-train-hamil-blas>When <a class="reference internal"href=#train-options-loss-options-train-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code>:</p> <dl id=train-options-loss-options-train-hamil-blas-onsite-shift><dt>onsite_shift:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/train[hamil_blas]/onsite_shift</span></code></div></div> <p>Whether to use onsite shift in loss function. Default: False</p></dd></dl></dd></dl> <dl id=train-options-loss-options-validation><dt>validation:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code>, optional</div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation</span></code></div></div> <p>Loss options for validation.</p> <p>Depending on the value of <em>method</em>, different sub args are accepted.</p> <dl id=train-options-loss-options-validation-method><dt>method:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code> (flag key)</div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation/method</span></code></div><div class=line>possible choices: <a class="reference internal"href=#train-options-loss-options-validation-eigvals><code class="docutils literal notranslate"><span class=pre>eigvals</span></code></a>, <a class="reference internal"href=#train-options-loss-options-validation-skints><code class="docutils literal notranslate"><span class=pre>skints</span></code></a>, <a class="reference internal"href=#train-options-loss-options-validation-hamil-abs><code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code></a>, <a class="reference internal"href=#train-options-loss-options-validation-hamil-blas><code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code></a></div></div> <p>The loss function type, defined by a string like <cite>&LTfitting target>_&LTloss type></cite>, Default: <cite>eigs_l2dsf</cite>. supported loss functions includes:</p> <blockquote><div><ul class=simple><li><p><cite>eigvals</cite>: The mse loss predicted and labeled eigenvalues and Delta eigenvalues between different k.</p></li><li><p><cite>hamil</cite>:</p></li><li><p><cite>hamil_abs</cite>:</p></li><li><p><cite>hamil_blas</cite>:</p></li></ul></div></blockquote></dd></dl> <p id=train-options-loss-options-validation-eigvals>When <a class="reference internal"href=#train-options-loss-options-validation-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>eigvals</span></code>:</p> <dl id=train-options-loss-options-validation-eigvals-diff-on><dt>diff_on:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[eigvals]/diff_on</span></code></div></div> <p>Whether to use random differences in loss function. Default: False</p></dd></dl> <dl id=train-options-loss-options-validation-eigvals-eout-weight><dt>eout_weight:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.01</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[eigvals]/eout_weight</span></code></div></div> <p>The weight of eigenvalue out of range. Default: 0.01</p></dd></dl> <dl id=train-options-loss-options-validation-eigvals-diff-weight><dt>diff_weight:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.01</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[eigvals]/diff_weight</span></code></div></div> <p>The weight of eigenvalue difference. Default: 0.01</p></dd></dl> <dl id=train-options-loss-options-validation-eigvals-diff-valence><dt>diff_valence:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code> | <code class="docutils literal notranslate"><span class=pre>NoneType</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>None</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[eigvals]/diff_valence</span></code></div></div> <p>set the difference of the number of valence electrons in DFT and TB. eg {‘A’:6,’B’:7}, Default: None, which means no difference</p></dd></dl> <dl id=train-options-loss-options-validation-eigvals-spin-deg><dt>spin_deg:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>2</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[eigvals]/spin_deg</span></code></div></div> <p>The spin degeneracy of band structure. Default: 2</p></dd></dl> <p id=train-options-loss-options-validation-skints>When <a class="reference internal"href=#train-options-loss-options-validation-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>skints</span></code>:</p> <dl id=train-options-loss-options-validation-skints-skdata><dt>skdata:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[skints]/skdata</span></code></div></div> <p>The path to the skfile or sk database.</p></dd></dl> <p id=train-options-loss-options-validation-hamil-abs>When <a class="reference internal"href=#train-options-loss-options-validation-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code>:</p> <dl id=train-options-loss-options-validation-hamil-abs-onsite-shift><dt>onsite_shift:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[hamil_abs]/onsite_shift</span></code></div></div> <p>Whether to use onsite shift in loss function. Default: False</p></dd></dl> <p id=train-options-loss-options-validation-hamil-blas>When <a class="reference internal"href=#train-options-loss-options-validation-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code>:</p> <dl id=train-options-loss-options-validation-hamil-blas-onsite-shift><dt>onsite_shift:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/validation[hamil_blas]/onsite_shift</span></code></div></div> <p>Whether to use onsite shift in loss function. Default: False</p></dd></dl></dd></dl> <dl id=train-options-loss-options-reference><dt>reference:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code>, optional</div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference</span></code></div></div> <p>Loss options for reference data in training.</p> <p>Depending on the value of <em>method</em>, different sub args are accepted.</p> <dl id=train-options-loss-options-reference-method><dt>method:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code> (flag key)</div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference/method</span></code></div><div class=line>possible choices: <a class="reference internal"href=#train-options-loss-options-reference-eigvals><code class="docutils literal notranslate"><span class=pre>eigvals</span></code></a>, <a class="reference internal"href=#train-options-loss-options-reference-skints><code class="docutils literal notranslate"><span class=pre>skints</span></code></a>, <a class="reference internal"href=#train-options-loss-options-reference-hamil-abs><code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code></a>, <a class="reference internal"href=#train-options-loss-options-reference-hamil-blas><code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code></a></div></div> <p>The loss function type, defined by a string like <cite>&LTfitting target>_&LTloss type></cite>, Default: <cite>eigs_l2dsf</cite>. supported loss functions includes:</p> <blockquote><div><ul class=simple><li><p><cite>eigvals</cite>: The mse loss predicted and labeled eigenvalues and Delta eigenvalues between different k.</p></li><li><p><cite>hamil</cite>:</p></li><li><p><cite>hamil_abs</cite>:</p></li><li><p><cite>hamil_blas</cite>:</p></li></ul></div></blockquote></dd></dl> <p id=train-options-loss-options-reference-eigvals>When <a class="reference internal"href=#train-options-loss-options-reference-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>eigvals</span></code>:</p> <dl id=train-options-loss-options-reference-eigvals-diff-on><dt>diff_on:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[eigvals]/diff_on</span></code></div></div> <p>Whether to use random differences in loss function. Default: False</p></dd></dl> <dl id=train-options-loss-options-reference-eigvals-eout-weight><dt>eout_weight:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.01</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[eigvals]/eout_weight</span></code></div></div> <p>The weight of eigenvalue out of range. Default: 0.01</p></dd></dl> <dl id=train-options-loss-options-reference-eigvals-diff-weight><dt>diff_weight:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>float</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>0.01</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[eigvals]/diff_weight</span></code></div></div> <p>The weight of eigenvalue difference. Default: 0.01</p></dd></dl> <dl id=train-options-loss-options-reference-eigvals-diff-valence><dt>diff_valence:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>dict</span></code> | <code class="docutils literal notranslate"><span class=pre>NoneType</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>None</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[eigvals]/diff_valence</span></code></div></div> <p>set the difference of the number of valence electrons in DFT and TB. eg {‘A’:6,’B’:7}, Default: None, which means no difference</p></dd></dl> <dl id=train-options-loss-options-reference-eigvals-spin-deg><dt>spin_deg:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>int</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>2</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[eigvals]/spin_deg</span></code></div></div> <p>The spin degeneracy of band structure. Default: 2</p></dd></dl> <p id=train-options-loss-options-reference-skints>When <a class="reference internal"href=#train-options-loss-options-reference-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>skints</span></code>:</p> <dl id=train-options-loss-options-reference-skints-skdata><dt>skdata:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>str</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[skints]/skdata</span></code></div></div> <p>The path to the skfile or sk database.</p></dd></dl> <p id=train-options-loss-options-reference-hamil-abs>When <a class="reference internal"href=#train-options-loss-options-reference-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code>:</p> <dl id=train-options-loss-options-reference-hamil-abs-onsite-shift><dt>onsite_shift:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[hamil_abs]/onsite_shift</span></code></div></div> <p>Whether to use onsite shift in loss function. Default: False</p></dd></dl> <p id=train-options-loss-options-reference-hamil-blas>When <a class="reference internal"href=#train-options-loss-options-reference-method><em>method</em></a> is set to <code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code>:</p> <dl id=train-options-loss-options-reference-hamil-blas-onsite-shift><dt>onsite_shift:</dt><dd><div class=line-block><div class=line>type: <code class="docutils literal notranslate"><span class=pre>bool</span></code>, optional, default: <code class="docutils literal notranslate"><span class=pre>False</span></code></div><div class=line>argument path: <code class="docutils literal notranslate"><span class=pre>train_options/loss_options/reference[hamil_blas]/onsite_shift</span></code></div></div> <p>Whether to use onsite shift in loss function. Default: False</p></dd></dl></dd></dl></dd></dl></dd></dl></section></article><footer class="prev-next-footer d-print-none"><div class=prev-next-area><a title="previous page"class=left-prev href=common_options.html> <i class="fa-solid fa-angle-left"></i> <div class=prev-next-info><p class=prev-next-subtitle>previous</p><p class=prev-next-title>Common Options</p></div> </a><a title="next page"class=right-next href=model_options.html> <div class=prev-next-info><p class=prev-next-subtitle>next</p><p class=prev-next-title>Model Options</p></div> <i class="fa-solid fa-angle-right"></i> </a></div></footer></div></div><footer class=bd-footer-content><div class="bd-footer-content__inner container"><div class=footer-item><p class=component-author>By DeePTB</p></div><div class=footer-item><p class=copyright>© Copyright 2023, DeePTB. <br></p></div><div class=footer-item></div><div class=footer-item><div class=extra_footer><p><a href=https://beian.miit.gov.cn target=_blank>京ICP备20010051号-8</a></p></div></div></div></footer></main></div></div><script src=../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b></script><script src=../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b></script><footer class=bd-footer></footer></body></html>
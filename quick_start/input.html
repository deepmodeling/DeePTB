<!doctype html><html data-content_root=../ lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="width=device-width,initial-scale=1" name=viewport><title>Brief Intro. to Inputs and Commands — DeePTB  documentation</title><script data-cfasync=false>document.documentElement.dataset.mode=localStorage.getItem(`mode`)||``,document.documentElement.dataset.theme=localStorage.getItem(`theme`)||``;</script><link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel=stylesheet><link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel=stylesheet><link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel=stylesheet><link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel=stylesheet><link as=font crossorigin href=../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2 rel=preload type=font/woff2><link as=font crossorigin href=../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2 rel=preload type=font/woff2><link as=font crossorigin href=../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2 rel=preload type=font/woff2><link href="../_static/pygments.css?v=8f2a1f02" rel=stylesheet><link href="../_static/styles/sphinx-book-theme.css?v=eba8b062" rel=stylesheet><link href=../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css rel=stylesheet><link href="../_static/banner.css?v=f1520836" rel=stylesheet><link href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" as=script rel=preload><link href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" as=script rel=preload><script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script><script src="../_static/documentation_options.js?v=9eb32ce0"></script><script src="../_static/doctools.js?v=9bcbadda"></script><script src="../_static/sphinx_highlight.js?v=dc90522c"></script><script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script><script src="../_static/banner.js?v=a6a668d4"></script><script>DOCUMENTATION_OPTIONS.pagename=`quick_start/input`;</script><link href=../genindex.html rel=index title=Index><link href=../search.html rel=search title=Search><link title="A quick Example" href=hands_on/index.html rel=next><link title="Installation Guide" href=easy_install.html rel=prev><meta content="width=device-width,initial-scale=1" name=viewport><meta content=en name=docsearch:language><link href=https://unpkg.com/ rel=preconnect><link href=https://unpkg.com/@njzjz/icons@0.0.5/logos/deepmodeling.svg rel=icon type=image/png><div class="container-fluid header-holder tutorials-header" id=header-holder><div class=container><div class=header-container><a aria-label=deepmodeling class=header-logo href=https://deepmodeling.com></a><div class=main-menu><ul><li><a href=https://deepmodeling.com>Home</a></li><li><a href=https://blogs.deepmodeling.com>Blog</a></li><li><a href=https://tutorials.deepmodeling.com>Tutorials</a></li><li class="active docs-active"><div class=resources-dropdown data-toggle=resources-dropdown id=resourcesDropdownButton><a class="resource-option with-down-orange-arrow" href=https://docs.deepmodeling.com/> Docs </a><div class=resources-dropdown-menu><a class="doc-dropdown-option nav-dropdown-item" href=https://docs.deepmodeling.com/projects/deepmd/> <span class=dropdown-title>DeePMD-kit</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item" href=https://docs.deepmodeling.com/projects/dpgen/> <span class=dropdown-title>DP-GEN</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item" href=https://docs.deepmodeling.com/projects/dpdata/> <span class=dropdown-title>dpdata</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item" href=https://docs.deepmodeling.com/projects/dpdispatcher/> <span class=dropdown-title>DPDispatcher</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item" href=https://abacus.deepmodeling.com/> <span class=dropdown-title>ABACUS</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item" href=https://deepflame.deepmodeling.com/> <span class=dropdown-title>DeepFlame</span> <p></p> </a><a class="doc-dropdown-option nav-dropdown-item" href=https://docs.deepmodeling.com/projects/dpti/> <span class=dropdown-title>DPTI</span> <p></p> </a></div></div></li><li><a href=https://blogs.deepmodeling.com/papers/>Publications</a></li><li><a href=https://github.com/deepmodeling>GitHub</a></li></ul></div><a class=main-menu-open-button data-behavior=open-mobile-menu href=#></a></div></div></div><div class=mobile-main-menu><div class=container-fluid><div class=container><div class=mobile-main-menu-header-container><a aria-label=deepmodeling class=header-logo href=https://deepmodeling.com></a><a class=main-menu-close-button data-behavior=close-mobile-menu href=#></a></div></div></div><div class=mobile-main-menu-links-container><div class=main-menu><ul><li><a href=https://deepmodeling.com>Home</a></li><li><a href=https://blogs.deepmodeling.com>Blog</a></li><li><a href=https://tutorials.deepmodeling.com>Tutorials</a></li><li><a href=https://docs.deepmodeling.com/>Docs</a></li><li><a href=https://blogs.deepmodeling.com/papers/>Publications</a></li><li><a href=https://github.com/deepmodeling>GitHub</a></li></ul></div></div></div></head><body data-bs-root-margin="0px 0px -60%" data-bs-spy=scroll data-bs-target=.bd-toc-nav data-default-mode data-offset=180><div class="skip-link d-print-none" id=pst-skip-link><a href=#main-content>Skip to main content</a></div><div id=pst-scroll-pixel-helper></div><button class="btn rounded-pill" id=pst-back-to-top type=button><i class="fa-solid fa-arrow-up"></i>Back to top</button><input class=sidebar-toggle id=pst-primary-sidebar-checkbox type=checkbox><label class="overlay overlay-primary" for=pst-primary-sidebar-checkbox></label><input class=sidebar-toggle id=pst-secondary-sidebar-checkbox type=checkbox><label class="overlay overlay-secondary" for=pst-secondary-sidebar-checkbox></label><div class=search-button__wrapper><div class=search-button__overlay></div><div class=search-button__search-container><form class="bd-search d-flex align-items-center" action=../search.html><i class="fa-solid fa-magnifying-glass"></i><input aria-label=Search... autocapitalize=off autocomplete=off autocorrect=off class=form-control id=search-input name=q placeholder=Search... spellcheck=false type=search><span class=search-button__kbd-shortcut><kbd class=kbd-shortcut__modifier>Ctrl</kbd>+<kbd>K</kbd></span></form></div></div><div class="pst-async-banner-revealer d-none"><aside aria-label="Version warning" class="d-none d-print-none" id=bd-header-version-warning></aside></div><header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none"></header><div class=bd-container><div class="bd-container__inner bd-page-width"><div class="bd-sidebar-primary bd-sidebar"><div class="sidebar-header-items sidebar-primary__section"></div><div class="sidebar-primary-items__start sidebar-primary__section"><div class=sidebar-primary-item><a class="navbar-brand logo" href=../index.html> <img alt="DeePTB  documentation - Home" class="logo__image only-light" src=../_static/deeptb-logo.svg> <script>document.write(`<img src="../_static/deeptb-logo.svg" class="logo__image only-dark" alt="DeePTB  documentation - Home"/>`);</script> </a></div><div class=sidebar-primary-item><script>document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);</script></div><div class=sidebar-primary-item><nav class="bd-links bd-docs-nav" aria-label=Main><div class="bd-toc-item navbar-nav active"><p aria-level=2 class=caption role=heading><span class=caption-text>Quick Start</span></p><ul class="current nav bd-sidenav"><li class=toctree-l1><a class="reference internal" href=easy_install.html>Installation Guide</a></li><li class="toctree-l1 current active"><a class="current reference internal" href=#>Brief Intro. to Inputs and Commands</a></li><li class="toctree-l1 has-children"><a class="reference internal" href=hands_on/index.html>A quick Example</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal" href=hands_on/tutorial1_base_sk.html>Tutorial 1: deeptb-sk baseline model</a></li><li class=toctree-l2><a class="reference internal" href=hands_on/tutorial2_data.html>Tutorial 2: data preparation for deeptb-sk model</a></li><li class=toctree-l2><a class="reference internal" href=hands_on/tutorial3_train_si.html>Tutorial 3: Training deeptb-sk model for Silicon</a></li><li class=toctree-l2><a class="reference internal" href=hands_on/tutorial4_E3_si.html>Tutorial 4: Training deeptb-e3 model for Silicon</a></li><li class=toctree-l2><a class="reference internal" href=hands_on/tutorial5_TBPlaS.html>使用 DeePTB 模型结合 TBPLaS 计算材料电学性质</a></li></ul></details></li><li class=toctree-l1><a class="reference internal" href=basic_api.html>Basic API</a></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>INPUT TAG</span></p><ul class="nav bd-sidenav"><li class="toctree-l1 has-children"><a class="reference internal" href=../input_params/index.html>Full Input Parameters</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal" href=../input_params/common_options.html>Common Options</a></li><li class=toctree-l2><a class="reference internal" href=../input_params/train_options.html>Train Options</a></li><li class=toctree-l2><a class="reference internal" href=../input_params/model_options.html>Model Options</a></li><li class=toctree-l2><a class="reference internal" href=../input_params/data_options.html>Data Options</a></li><li class=toctree-l2><a class="reference internal" href=../input_params/run_options.html>Run Options</a></li><li class=toctree-l2><a class="reference internal" href=../input_params/set_info.html>Set Info</a></li></ul></details></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Advanced</span></p><ul class="nav bd-sidenav"><li class="toctree-l1 has-children"><a class="reference internal" href=../advanced/sktb/index.html>DeePTB-SK Advanced</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal" href=../advanced/sktb/dftb.html>DFTB SK Files to DeePTB Model</a></li><li class=toctree-l2><a class="reference internal" href=../advanced/sktb/dptb_env.html>Environment-dependent TB</a></li><li class=toctree-l2><a class="reference internal" href=../advanced/sktb/nrl_tb.html>NRL-TB paramererization</a></li><li class=toctree-l2><a class="reference internal" href=../advanced/sktb/soc.html>Spin-orbit coupling</a></li></ul></details></li><li class="toctree-l1 has-children"><a class="reference internal" href=../advanced/e3tb/index.html>DeePTB-E3 Advanced</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal" href=../advanced/e3tb/advanced_input.html>More on Input Parameters</a></li><li class=toctree-l2><a class="reference internal" href=../advanced/e3tb/data_preparation.html>Data Preparation</a></li><li class=toctree-l2><a class="reference internal" href=../advanced/e3tb/loss_analysis.html>Loss Analysis</a></li></ul></details></li><li class="toctree-l1 has-children"><a class="reference internal" href=../advanced/elec_properties/index.html>Electronic Properties and Outputs</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal" href=../advanced/elec_properties/band.html>Band structure</a></li></ul></details></li><li class="toctree-l1 has-children"><a class="reference internal" href=../advanced/interface/index.html>Interfaces to Other Softwares</a><details><summary><span class=toctree-toggle role=presentation><i class="fa-solid fa-chevron-down"></i></span></summary><ul><li class=toctree-l2><a class="reference internal" href=../advanced/interface/TBPLAS.html>TBPLAS</a></li><li class=toctree-l2><a class="reference internal" href=../advanced/interface/TBtrans.html>TBtrans</a></li></ul></details></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Citing DeePTB</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal" href=../CITATIONS.html>How to Cite</a></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Developing Team</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal" href=../DevelopingTeam.html>Development Team</a></li></ul><p aria-level=2 class=caption role=heading><span class=caption-text>Community</span></p><ul class="nav bd-sidenav"><li class=toctree-l1><a class="reference internal" href=../community/contribution_guide.html>DeePTB Contribution Guide</a></li><li class=toctree-l1><a class="reference internal" href=../CONTRIBUTING.html>Contributing to DeePTB</a></li></ul></div></nav></div></div><div class="sidebar-primary-items__end sidebar-primary__section"></div><div id=rtd-footer-container></div></div><main class=bd-main id=main-content role=main><div class=sbt-scroll-pixel-helper></div><div class=bd-content><div class=bd-article-container><div class="bd-header-article d-print-none"><div class="header-article-items header-article__inner"><div class=header-article-items__start><div class=header-article-item><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement=bottom data-bs-toggle=tooltip><span class="fa-solid fa-bars"></span></button></div></div><div class=header-article-items__end><div class=header-article-item><div class=article-header-buttons><div class="dropdown dropdown-download-buttons"><button aria-label="Download this page" class="btn dropdown-toggle" aria-expanded=false data-bs-toggle=dropdown type=button><i class="fas fa-download"></i></button><ul class=dropdown-menu><li><a class="btn btn-sm btn-download-source-button dropdown-item" title="Download source file" data-bs-placement=left data-bs-toggle=tooltip href=../_sources/quick_start/input.md target=_blank> <span class=btn__icon-container> <i class="fas fa-file"></i> </span> <span class=btn__text-container>.md</span> </a></li><li><button class="btn btn-sm btn-download-pdf-button dropdown-item" title="Print to PDF" data-bs-placement=left data-bs-toggle=tooltip onclick=window.print()><span class=btn__icon-container> <i class="fas fa-file-pdf"></i> </span> <span class=btn__text-container>.pdf</span></button></li></ul></div><button class="btn btn-sm btn-fullscreen-button" title="Fullscreen mode" data-bs-placement=bottom data-bs-toggle=tooltip onclick=toggleFullScreen()><span class=btn__icon-container> <i class="fas fa-expand"></i> </span></button><script>document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);</script><script>document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);</script><button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement=bottom data-bs-toggle=tooltip><span class="fa-solid fa-list"></span></button></div></div></div></div></div><div class=onlyprint id=jb-print-docs-body><h1>Brief Intro. to Inputs and Commands</h1><div id=print-main-content><div id=jb-print-toc><div><h2>Contents</h2></div><nav aria-label=Page><ul class="visible nav section-nav flex-column"><li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href=#inputs>Inputs</a><ul class="nav section-nav flex-column"><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#data>Data</a></li><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#data-settings-info-json>Data settings: info.json</a></li><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#train-config-input-json>Train config: input.json</a><ul class="nav section-nav flex-column"><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#common-options>common_options:</a></li><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#train-options>train_options</a></li><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#model-options>model_options</a></li><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#data-options>data_options</a></li></ul></li></ul></li><li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href=#commands>Commands</a><ul class="nav section-nav flex-column"><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#training>Training</a></li></ul></li></ul></nav></div></div></div><div id=searchbox></div><article class=bd-article><section class="tex2jax_ignore mathjax_ignore" id=brief-intro-to-inputs-and-commands><h1>Brief Intro. to Inputs and Commands<a title="Link to this heading" class=headerlink href=#brief-intro-to-inputs-and-commands>#</a></h1><p>The following files are the central input files for DeePTB. Before executing the program, please make sure these files are prepared and stored in the working directory. Here we give some simple descriptions, for more details, users should consult the Advanced session.</p><section id=inputs><h2>Inputs<a title="Link to this heading" class=headerlink href=#inputs>#</a></h2><section id=data><h3>Data<a title="Link to this heading" class=headerlink href=#data>#</a></h3><p>The dataset files contrains both the <strong>atomic structure</strong> and the <strong>training label</strong> information.</p><p>The <strong>atomic structure</strong> contains the atoms’ position, unit-cell vector and atomic number vector. They <strong>must</strong> be included in your datafile in all task. The <strong>training labels</strong> are prepared dependent on each task. If you are working on <code class="docutils literal notranslate"><span class=pre>DeePTB-SK</span></code> mode, the eigenvalues and kpoints are needed. If you are working with <code class="docutils literal notranslate"><span class=pre>DeePTB-E3</span></code> mode the Hamiltonian/Density Matrix under LCAO basis must be provided, while overlap matrix are optionally provided (But we suggest to do so for convenience).</p><p>The atomic structure should be prepared in either ASE trajectory binary file format, or the plain text format. We highly suggest to use the tool <code class="docutils literal notranslate"><span class=pre>dftio</span></code> to deal with the data preparation. It can transform the data from DFT output to the target format automatically. Herefore completion, we will introduce the format of each type.</p><ul><li><p>For ASE trajectory binary file, each structure is stored using an <strong>Atom</strong> class defined in ASE package. The provided trajectory file must have suffix <code class="docutils literal notranslate"><span class=pre>.traj</span></code> and the length of the trajectory is <code class="docutils literal notranslate"><span class=pre>nframes</span></code></p></li><li><p>For the plain text format, three seperate textfiles for <strong>atomic structures</strong> need to be provided: <code class="docutils literal notranslate"><span class=pre>atomic_numbers.dat</span></code>, <code class="docutils literal notranslate"><span class=pre>cell.dat</span></code> and <code class="docutils literal notranslate"><span class=pre>positions.dat</span></code>. The length unit used in <code class="docutils literal notranslate"><span class=pre>cell.dat</span></code> and <code class="docutils literal notranslate"><span class=pre>positions.dat</span></code> (if cartesian coordinates) is Angstrom.</p></li><li><p>For training a <strong>DeePTB-SK</strong> model, we need to prepare the <code class="docutils literal notranslate"><span class=pre>eigenvalues</span></code> label, which contrains the <code class="docutils literal notranslate"><span class=pre>eigenvalues.npy</span></code> and <code class="docutils literal notranslate"><span class=pre>kpoints.npy</span></code>. A typical dataset of <strong>DeePTB-SK</strong> task looks like:</p> <div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=n>data</span><span class=o>/</span>
<span class=o>--</span> <span class=nb>set</span><span class=o>.</span><span class=n>x</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>eigenvalues</span><span class=o>.</span><span class=n>npy</span>  <span class=c1># numpy array of fixed shape [nframes, nkpoints, nbands]</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>kpoints</span><span class=o>.</span><span class=n>npy</span>      <span class=c1># numpy array of fixed shape [nkpoints, 3]</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>xdat</span><span class=o>.</span><span class=n>traj</span>        <span class=c1># ase trajectory file with nframes</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>info</span><span class=o>.</span><span class=n>json</span>        <span class=c1># defining the parameters used in building AtomicData graph data</span>
</pre></div></div> <p>The <strong>band structures</strong> data includes the kpoints list and eigenvalues in the binary format of <code class="docutils literal notranslate"><span class=pre>.npy</span></code>. The shape of kpoints data is fixed as <strong>[nkpoints,3]</strong> and eigenvalues is fixed as <strong>[nframes,nkpoints,nbands]</strong>. The <code class="docutils literal notranslate"><span class=pre>nframes</span></code> here must be the same as in <strong>atomic structures</strong> files.</p> <blockquote><div><p><strong>Important:</strong> The eigenvalues.npy should not contain bands that contributed by the core electrons, which is not setted as the TB orbitals in model setting.</p></div></blockquote></li><li><p>For typical <strong>DeePTB-E3</strong> task, we need to prepare the Hamiltonian/density matrix along with overlap matrix as labels. They are arranged as hdf5 binary format, and named as <code class="docutils literal notranslate"><span class=pre>hamiltonians.h5</span></code>/<code class="docutils literal notranslate"><span class=pre>density_matrices.h5</span></code> and <code class="docutils literal notranslate"><span class=pre>overlaps.h5</span></code> respectively. A typical dataset of <strong>DeePTB-E3</strong> looks like:</p> <div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=n>data</span><span class=o>/</span>
<span class=o>--</span> <span class=nb>set</span><span class=o>.</span><span class=n>x</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>positions</span><span class=o>.</span><span class=n>dat</span>     <span class=c1># a text file with nframe x natom row and 3 col</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>cell</span><span class=o>.</span><span class=n>dat</span>          <span class=c1># a text file with nframe x 3 row and 3 col, or 3 rol and 3 col.</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>atomic_numbers</span><span class=o>.</span><span class=n>dat</span>    <span class=c1># a text file with nframe x natom row and 1 col</span>
<span class=o>--</span> <span class=o>--</span> <span class=n>hamiltonian</span><span class=o>.</span><span class=n>h5</span>    <span class=c1># a hdf5 dataset file with group named "0", "1", ..., "nframe". Each group contains a dict of {"i_j_Rx_Ry_Rz": numpy.ndarray} </span>
<span class=o>--</span> <span class=o>--</span> <span class=n>overlaps</span><span class=o>.</span><span class=n>h5</span>       <span class=c1># a hdf5 dataset file with group named "0", "1", ..., "nframe". Each group contains a dict of {"i_j_Rx_Ry_Rz": numpy.ndarray} </span>
<span class=o>--</span> <span class=o>--</span> <span class=n>info</span><span class=o>.</span><span class=n>json</span>
</pre></div></div></li></ul></section><section id=data-settings-info-json><h3>Data settings: info.json<a title="Link to this heading" class=headerlink href=#data-settings-info-json>#</a></h3><p>In <strong>DeePTB</strong>, the <strong>atomic structures</strong> and <strong>band structures</strong> data are stored in AtomicData graph structure. <code class="docutils literal notranslate"><span class=pre>info.json</span></code> defines the key parameters used in building AtomicData graph dataset, which looks like:</p><div class="highlight-JSON notranslate"><div class=highlight><pre><span></span><span class=p>{</span>
<span class=w>    </span><span class=nt>"nframes"</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span>
<span class=w>    </span><span class=nt>"pos_type"</span><span class=p>:</span><span class=w> </span><span class=s2>"ase/cart/frac"</span><span class=p>,</span>
<span class=w>    </span><span class=nt>"pbc"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>]</span>
<span class=p>}</span>
</pre></div></div><p><code class="docutils literal notranslate"><span class=pre>nframes</span></code> is the length of the trajectory, as we defined in the previous section. <code class="docutils literal notranslate"><span class=pre>pos_type</span></code> defines the input format of the <strong>atomic structures</strong>, which is set to <code class="docutils literal notranslate"><span class=pre>ase</span></code> if ASE <code class="docutils literal notranslate"><span class=pre>.traj</span></code> file is provided, and <code class="docutils literal notranslate"><span class=pre>cart</span></code> or <code class="docutils literal notranslate"><span class=pre>frac</span></code> if cartesian / fractional coordinate in <code class="docutils literal notranslate"><span class=pre>positions.dat</span></code> file provided. The <code class="docutils literal notranslate"><span class=pre>pbc</span></code> specifies the periodic boundray condition of the system. The three value coresponding to the three boundary vector set in the unit cell information of the atomic data file.</p><p>For <strong>DeePTB-SK</strong> mode, we should also specify the parameters in <code class="docutils literal notranslate"><span class=pre>info.json</span></code> that controls the fitting eigenvalues:</p><div class="highlight-JSON notranslate"><div class=highlight><pre><span></span><span class=p>{</span>
<span class=w>    </span><span class=nt>"nframes"</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span>
<span class=w>    </span><span class=nt>"pos_type"</span><span class=p>:</span><span class=w> </span><span class=s2>"ase/cart/frac"</span><span class=p>,</span>
<span class=w>    </span><span class=nt>"pbc"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>],</span>
<span class=w>    </span><span class=nt>"bandinfo"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>"band_min"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
<span class=w>        </span><span class=nt>"band_max"</span><span class=p>:</span><span class=w> </span><span class=mi>6</span><span class=p>,</span>
<span class=w>        </span><span class=nt>"emin"</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span>
<span class=w>        </span><span class=nt>"emax"</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</pre></div></div><p><code class="docutils literal notranslate"><span class=pre>bandinfo</span></code> defines the fitting target. The <code class="docutils literal notranslate"><span class=pre>emin</span></code> and <code class="docutils literal notranslate"><span class=pre>emax</span></code> defines the fitting energy window of the band, while the <code class="docutils literal notranslate"><span class=pre>band_min</span></code> and <code class="docutils literal notranslate"><span class=pre>band_max</span></code> select which band are targeted.</p><blockquote><div><p><strong>note:</strong> The <code class="docutils literal notranslate"><span class=pre>0</span></code> energy point is located at the lowest energy eigenvalues from the band of band_min. The band_min should be aligned to the same index for eigenvalues from DFT ans DeePTB.</p></div></blockquote></section><section id=train-config-input-json><h3>Train config: input.json<a title="Link to this heading" class=headerlink href=#train-config-input-json>#</a></h3><p><strong>DeePTB</strong> provides input config templates for quick setup. User can run:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>dptb<span class=w> </span>config<span class=w> </span>-tr<span class=w> </span><span class=o>[[</span>-e3<span class=o>]</span><span class=w> </span>&lt;e3tb><span class=o>]</span><span class=w> </span><span class=o>[[</span>-sk<span class=o>]</span><span class=w> </span>&lt;sktb><span class=o>]</span><span class=w> </span><span class=o>[[</span>-skenv<span class=o>]</span><span class=w> </span>&lt;sktbenv><span class=o>]</span><span class=w> </span>PATH
</pre></div></div><p>The template config file will be generated at the <code class="docutils literal notranslate"><span class=pre>PATH</span></code>. We provide several template for different mode of deeptb, please run <code class="docutils literal notranslate"><span class=pre>dptb</span> <span class=pre>config</span> <span class=pre>-h</span></code> to checkout.</p><p>In general, the <code class="docutils literal notranslate"><span class=pre>input.json</span></code> file contains following parts:</p><section id=common-options><h4>common_options:<a title="Link to this heading" class=headerlink href=#common-options>#</a></h4><p>provides vital information to build a <strong>DeePTB</strong> models.</p><ul class=simple><li><p>For <strong>DeePTB-SK</strong> mode. The example of <code class="docutils literal notranslate"><span class=pre>common_options</span></code> is:</p></li></ul><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"common_options"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nt>"basis"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>                    </span><span class=nt>"C"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>"2s"</span><span class=p>,</span><span class=w> </span><span class=s2>"2p"</span><span class=p>],</span>
<span class=w>                    </span><span class=nt>"N"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>"2s"</span><span class=p>,</span><span class=w> </span><span class=s2>"2p"</span><span class=p>,</span><span class=w> </span><span class=s2>"d*"</span><span class=p>]</span>
<span class=w>                </span><span class=p>},</span>
<span class=w>                </span><span class=nt>"device"</span><span class=p>:</span><span class=w> </span><span class=s2>"cpu"</span><span class=p>,</span>
<span class=w>                </span><span class=nt>"overlap"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>                </span><span class=nt>"dtype"</span><span class=p>:</span><span class=w> </span><span class=s2>"float32"</span><span class=p>,</span>
<span class=w>                </span><span class=nt>"seed"</span><span class=p>:</span><span class=w> </span><span class=mi>42</span>
<span class=w>        </span><span class=p>}</span>
</pre></div></div><ul class=simple><li><p>For <strong>DeePTB-E3</strong> mode, the basis with similar format is different using string instead a list. For <code class="docutils literal notranslate"><span class=pre>C</span></code> and <code class="docutils literal notranslate"><span class=pre>N</span></code> with DZP basis, the <code class="docutils literal notranslate"><span class=pre>basis</span></code> should be defined as：</p></li></ul><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"basis"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>"C"</span><span class=p>:</span><span class=w> </span><span class=s2>"2s2p1d"</span><span class=p>,</span>
<span class=w>    </span><span class=nt>"N"</span><span class=p>:</span><span class=w> </span><span class=s2>"2s2p1d"</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div></section><section id=train-options><h4>train_options<a title="Link to this heading" class=headerlink href=#train-options>#</a></h4><p>spicify the training procedure.</p><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"train_options"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>"num_epoch"</span><span class=p>:</span><span class=w> </span><span class=mi>500</span><span class=p>,</span>
<span class=w>        </span><span class=nt>"batch_size"</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span>
<span class=w>        </span><span class=nt>"optimizer"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"lr"</span><span class=p>:</span><span class=w> </span><span class=mf>0.05</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"Adam"</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"lr_scheduler"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"exp"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"gamma"</span><span class=p>:</span><span class=w> </span><span class=mf>0.999</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"loss_options"</span><span class=p>:{</span>
<span class=w>            </span><span class=nt>"train"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"eigvals"</span><span class=p>}</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"save_freq"</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=p>,</span>
<span class=w>        </span><span class=nt>"validation_freq"</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=p>,</span>
<span class=w>        </span><span class=nt>"display_freq"</span><span class=p>:</span><span class=w> </span><span class=mi>10</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div><p>The <code class="docutils literal notranslate"><span class=pre>loss_options</span></code> section is used to specify the loss function used in training. The <code class="docutils literal notranslate"><span class=pre>method</span></code> key is used to specify the loss function, which can be <code class="docutils literal notranslate"><span class=pre>eigvals</span></code>, <code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code>, and <code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code>. The <code class="docutils literal notranslate"><span class=pre>eigvals</span></code> loss is used for <strong>DeePTB-SK</strong> model, while <code class="docutils literal notranslate"><span class=pre>hamil_abs</span></code> and <code class="docutils literal notranslate"><span class=pre>hamil_blas</span></code> are used for <strong>DeePTB-E3</strong> model. Here <code class="docutils literal notranslate"><span class=pre>Adam</span></code> optimizer is always preferred for better convergence speed. While the <code class="docutils literal notranslate"><span class=pre>lr_scheduler</span></code> are recommended to use “rop”, as:</p><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"lr_scheduler"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"rop"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"factor"</span><span class=p>:</span><span class=w> </span><span class=mf>0.8</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"patience"</span><span class=p>:</span><span class=w> </span><span class=mi>50</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"min_lr"</span><span class=p>:</span><span class=w> </span><span class=mf>1e-6</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div><p>More details about rop is available at: <a class="reference external" href=https://pytorch.org/docs/stable/generated/torch.optim.lr_scheduler.ReduceLROnPlateau.html>https://pytorch.org/docs/stable/generated/torch.optim.lr_scheduler.ReduceLROnPlateau.html</a></p></section><section id=model-options><h4>model_options<a title="Link to this heading" class=headerlink href=#model-options>#</a></h4><p>key setting to build <strong>DeePTB</strong> models.</p><p>For <strong>DeePTB-SK</strong> model without env correction, only the <code class="docutils literal notranslate"><span class=pre>nnsk</span></code> section is needed. The example of a <code class="docutils literal notranslate"><span class=pre>nnsk</span></code> model is:</p><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"model_options"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>"nnsk"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"onsite"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"uniform"</span><span class=p>},</span>
<span class=w>            </span><span class=nt>"hopping"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"powerlaw"</span><span class=p>,</span><span class=w> </span><span class=nt>"rs"</span><span class=p>:</span><span class=mf>2.6</span><span class=p>,</span><span class=w> </span><span class=nt>"w"</span><span class=p>:</span><span class=w> </span><span class=mf>0.3</span><span class=p>},</span>
<span class=w>            </span><span class=nt>"freeze"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"push"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div><p>Different method of <code class="docutils literal notranslate"><span class=pre>onsite</span></code> and <code class="docutils literal notranslate"><span class=pre>hopping</span></code> have their specific parameters requirements, please checkout our full parameter lists.</p><p>For <strong>DeePTB-SK</strong> model with environment dependency, the <code class="docutils literal notranslate"><span class=pre>embedding</span></code>, <code class="docutils literal notranslate"><span class=pre>prediction</span></code> and <code class="docutils literal notranslate"><span class=pre>nnsk</span></code> sections are required as in this example:</p><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"model_options"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>"embedding"</span><span class=p>:{</span>
<span class=w>            </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"se2"</span><span class=p>,</span><span class=w> </span><span class=nt>"rs"</span><span class=p>:</span><span class=w> </span><span class=mf>2.5</span><span class=p>,</span><span class=w> </span><span class=nt>"rc"</span><span class=p>:</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"radial_net"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nt>"neurons"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>10</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>30</span><span class=p>]</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"prediction"</span><span class=p>:{</span>
<span class=w>            </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"sktb"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"neurons"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>16</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=mi>16</span><span class=p>]</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"nnsk"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"onsite"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"uniform"</span><span class=p>},</span>
<span class=w>            </span><span class=nt>"hopping"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"powerlaw"</span><span class=p>,</span><span class=w> </span><span class=nt>"rs"</span><span class=p>:</span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=nt>"w"</span><span class=p>:</span><span class=w> </span><span class=mf>0.1</span><span class=p>},</span>
<span class=w>            </span><span class=nt>"freeze"</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div><p>For <strong>DeePTB-E3</strong> model, only <code class="docutils literal notranslate"><span class=pre>embedding</span></code> and <code class="docutils literal notranslate"><span class=pre>prediction</span></code> is required, as:</p><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"model_options"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>"embedding"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"slem/lem"</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>s</span><span class=w> </span><span class=err>i</span><span class=kc>n</span><span class=w> </span><span class=err>slem</span><span class=w> </span><span class=err>s</span><span class=kc>tan</span><span class=err>ds</span><span class=w> </span><span class=kc>f</span><span class=err>or</span><span class=w> </span><span class=err>s</span><span class=kc>tr</span><span class=err>ic</span><span class=kc>t</span><span class=w> </span><span class=err>localiza</span><span class=kc>t</span><span class=err>io</span><span class=kc>n</span>
<span class=w>            </span><span class=nt>"r_max"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nt>"C"</span><span class=p>:</span><span class=w> </span><span class=mf>7.0</span><span class=p>,</span>
<span class=w>                </span><span class=nt>"N"</span><span class=p>:</span><span class=w> </span><span class=mf>7.0</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=nt>"irreps_hidden"</span><span class=p>:</span><span class=w> </span><span class=s2>"32x0e+32x1o+16x2e+8x3o+8x4e+4x5o"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"n_layers"</span><span class=p>:</span><span class=w> </span><span class=mi>3</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"n_radial_basis"</span><span class=p>:</span><span class=w> </span><span class=mi>18</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"env_embed_multiplicity"</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"avg_num_neighbors"</span><span class=p>:</span><span class=w> </span><span class=mi>51</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"latent_dim"</span><span class=p>:</span><span class=w> </span><span class=mi>64</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"latent_channels"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>                </span><span class=mi>32</span>
<span class=w>            </span><span class=p>],</span>
<span class=w>            </span><span class=nt>"tp_radial_emb"</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"tp_radial_channels"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>                </span><span class=mi>32</span>
<span class=w>            </span><span class=p>],</span>
<span class=w>            </span><span class=nt>"PolynomialCutoff_p"</span><span class=p>:</span><span class=w> </span><span class=mi>6</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"cutoff_type"</span><span class=p>:</span><span class=w> </span><span class=s2>"polynomial"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"res_update"</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"res_update_ratios"</span><span class=p>:</span><span class=w> </span><span class=mf>0.5</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"res_update_ratios_learnable"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"prediction"</span><span class=p>:{</span>
<span class=w>            </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"e3tb"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"scales_trainable"</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"shifts_trainable"</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"neurons"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>64</span><span class=p>,</span><span class=mi>64</span><span class=p>]</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span><span class=p>,</span><span class=w> </span><span class=err>required</span><span class=w> </span><span class=err>whe</span><span class=kc>n</span><span class=w> </span><span class=err>overlap</span><span class=w> </span><span class=err>i</span><span class=kc>n</span><span class=w> </span><span class=err>commo</span><span class=kc>n</span><span class=err>_op</span><span class=kc>t</span><span class=err>io</span><span class=kc>ns</span><span class=w> </span><span class=err>is</span><span class=w> </span><span class=err>True</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div></section><section id=data-options><h4>data_options<a title="Link to this heading" class=headerlink href=#data-options>#</a></h4><p>assigns the datasets used in training.</p><div class="highlight-json notranslate"><div class=highlight><pre><span></span><span class=w>    </span><span class=nt>"data_options"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>"train"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"DefaultDataset"</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span><span class=p>,</span><span class=w> </span><span class=err>de</span><span class=kc>fault</span><span class=w> </span><span class=nt>"DefaultDataset"</span>
<span class=w>            </span><span class=nt>"root"</span><span class=p>:</span><span class=w> </span><span class=s2>"./data/"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"prefix"</span><span class=p>:</span><span class=w> </span><span class=s2>"kpathmd100"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"get_Hamiltonian"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span><span class=p>,</span><span class=w> </span><span class=err>de</span><span class=kc>fault</span><span class=w> </span><span class=kc>false</span>
<span class=w>            </span><span class=nt>"get_eigenvalues"</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span><span class=p>,</span><span class=w> </span><span class=err>de</span><span class=kc>fault</span><span class=w> </span><span class=kc>false</span>
<span class=w>            </span><span class=nt>"get_overlap"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span><span class=p>,</span><span class=w> </span><span class=err>de</span><span class=kc>fault</span><span class=w> </span><span class=kc>false</span>
<span class=w>            </span><span class=nt>"get_DM"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>op</span><span class=kc>t</span><span class=err>io</span><span class=kc>nal</span><span class=p>,</span><span class=w> </span><span class=err>de</span><span class=kc>fault</span><span class=w> </span><span class=kc>false</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=nt>"validation"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"DefaultDataset"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"root"</span><span class=p>:</span><span class=w> </span><span class=s2>"./data/"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"prefix"</span><span class=p>:</span><span class=w> </span><span class=s2>"kpathmd100"</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"get_Hamiltonian"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"get_eigenvalues"</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"get_overlap"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>            </span><span class=nt>"get_DM"</span><span class=p>:</span><span class=w> </span><span class=kc>false</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
</pre></div></div></section></section></section><section id=commands><h2>Commands<a title="Link to this heading" class=headerlink href=#commands>#</a></h2><section id=training><h3>Training<a title="Link to this heading" class=headerlink href=#training>#</a></h3><p>When data and input config file is prepared, we are ready to train the model:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>dptb<span class=w> </span>train<span class=w> </span>&lt;input<span class=w> </span>config><span class=w> </span><span class=o>[[</span>-o<span class=o>]</span><span class=w> </span>&lt;output<span class=w> </span>directory><span class=o>]</span><span class=w> </span><span class=o>[[</span>-i<span class=p>|</span>-r<span class=o>]</span><span class=w> </span>&lt;deeptb<span class=w> </span>checkpoint<span class=w> </span>path><span class=o>]</span>
</pre></div></div></section></section></section></article><footer class="prev-next-footer d-print-none"><div class=prev-next-area><a title="previous page" class=left-prev href=easy_install.html> <i class="fa-solid fa-angle-left"></i> <div class=prev-next-info><p class=prev-next-subtitle>previous</p><p class=prev-next-title>Installation Guide</p></div> </a><a title="next page" class=right-next href=hands_on/index.html> <div class=prev-next-info><p class=prev-next-subtitle>next</p><p class=prev-next-title>A quick Example</p></div> <i class="fa-solid fa-angle-right"></i> </a></div></footer></div><div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner"><div class=sidebar-secondary-item><div class="page-toc tocsection onthispage"><i class="fa-solid fa-list"></i> Contents</div><nav class="bd-toc-nav page-toc"><ul class="visible nav section-nav flex-column"><li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href=#inputs>Inputs</a><ul class="nav section-nav flex-column"><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#data>Data</a></li><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#data-settings-info-json>Data settings: info.json</a></li><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#train-config-input-json>Train config: input.json</a><ul class="nav section-nav flex-column"><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#common-options>common_options:</a></li><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#train-options>train_options</a></li><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#model-options>model_options</a></li><li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href=#data-options>data_options</a></li></ul></li></ul></li><li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href=#commands>Commands</a><ul class="nav section-nav flex-column"><li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href=#training>Training</a></li></ul></li></ul></nav></div></div></div></div><footer class=bd-footer-content><div class="bd-footer-content__inner container"><div class=footer-item><p class=component-author>By DeePTB</p></div><div class=footer-item><p class=copyright>© Copyright 2023, DeePTB. <br></p></div><div class=footer-item></div><div class=footer-item><div class=extra_footer><p><a href=https://beian.miit.gov.cn target=_blank>京ICP备20010051号-8</a></p></div></div></div></footer></main></div></div><script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script><script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script><footer class=bd-footer></footer></body></html>